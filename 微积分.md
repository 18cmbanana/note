# 微积分

## 初见积分

我们可以把微积分拆成“微分”和“积分”两个词，积分这个词当初被造出来，就是用来表示“由无数个无穷小的面积组成的面积S”。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-bf15f64308c2377a17d4ea53f1dd75e2)

如上图所示，如果一条曲线y=f(x)和x轴在a和b之间围成的面积为S，那么，我们就可以这样表示这部分面积S：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-48da2fccd9d7038f91f1b847d3d2b2c6)

在第2节的例子里，我们求的是抛物线y=x²与x轴在0到1之间围成的面积。那么，在这里f(x)=x²，a=0，b=1，而且最终我们知道这个结果等于1/3，把这些都代入进去我们就可以这样写：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-cd58cd8502bddac4f81f30c4cb1d05b3)

也就是说，代表这块面积的积分值等于1/3。

为了加深一下大家对这个积分式子的理解，我们再回顾一下求抛物线围成面积的过程：我们用无数个矩形把0到1之间分成了无穷多份，然后把所有的矩形面积都加起来。因为矩形的面积就是底乘以高，而这个高刚好就是函数的纵坐标y。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-e6319b9d2e516ba594d059b337158f87)

所以，当我用无数个矩形来逼近原面积的时候，每个矩形的底自然就变成了无穷小，这个无穷小的底就是上面的dx。而x²表示的就是函数的纵坐标，就是矩形的高，底（dx）和高（x²）相乘不就是在求面积么？你再看看这个式子，跟前面求面积的过程是不是一样的？

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-78d2f6a0bc4d34177af8db8cf219e48c)


## 直线和斜率

微分学的基本概念是导数，关于导数，我在麦克斯韦方程组的积分篇里讲过一次，在微分篇里又讲过一次（在那里还讲了升级版的偏导数）。这里它是主角，我再讲一次。

我们爬山的时候，山越陡越难爬；骑车的时候，路面的坡度越大越难骑。一个面的坡度越大，倾斜得越厉害，我们就越难上去，那么，我们该如何衡量这个倾斜程度呢？

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-dfd1ed0d58ef730cf72b206c44ead1c3)

在平面里画条一条直线，我们可以直观地看出这条直线的倾斜程度，而且还不难发现：不管在直线的什么地方，它的倾斜程度都是一样的。

所以，我们就可以用一个量来描述这整条直线的倾斜程度，这个概念就被形象地命名为斜率。

那么，一条直线的斜率要怎么计算呢？这个想法也很直观：建一个坐标系，看看直线在x轴改变了Δx时候，它在y轴的改变量Δy是多少。如果Δx是固定的，那么显然Δy越大，这条直线就斜得越厉害，斜率也就越大。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-aea27cdf78b9af5a3aa0480bb54d1ac1)

这就跟我们判断跑步的速度是一样的道理：给定一个固定的时间，比如10秒（相当于固定的Δx），看看你能跑多远（相当于Δy），你跑得越远（Δy越大），我就认为你跑得就越快。当然也可以反过来，给定一个固定的距离，比如100米（相当于Δy），你跑的时间越短（Δx越小），我就认为你跑得越快。


把这两种情况综合一下，我们就能发现：固定时间（Δx）也好，固定距离（Δy）也好，最终起决定作用的是Δy和Δx的比值Δy/Δx。这个比值越大，你就跑得越快，对应的直线也就越陡。


所以，我们就可以在直线上随意找两个点，用它们纵坐标之差Δy和横坐标之差Δx的比值（Δy/Δx）来定义这条直线斜率。

学过三角函数的同学也会知道，这个斜率刚好就是这条直线和x轴夹角θ的正切值tanθ，即：tanθ=Δy/Δx。这就是说，直线和x轴的夹角θ越大，它的斜率就越大，就倾斜的越厉害，这跟经验都是一致的。

## 曲线和切线

直线好说，关键是曲线怎么办？曲线跟直线不同，它完全可以在这里平缓一点，在那里陡峭一点，它在不同地方的倾斜程度是不一样的。所以，我们就不能说一条曲线的倾斜程度（“斜率”），而只能说曲线在某个具体点的倾斜程度。


于是，我们就需要引入一个新的概念：切线。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-5aa91859c0e9eb4da8453244e4c61f29)

切线，直观地看，就是刚好在这点“碰到”曲线的直线。因为切线是直线，所以切线有斜率，于是我们就可以用切线的斜率代表曲线在这点的倾斜程度。


传统上我们可以这样定义切线：先随便画一个直线，让这条直线与曲线有两个交点，这样的直线叫割线（仿佛把曲线“割断”了，如下图蓝色的AB）。然后，我们让B点沿着曲线慢慢向A点靠近，直观上，等到B点和A点重合之后，割线AB就变成了曲线在A点的切线。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-db7a9f033307603f521fc8124b3a1b38)

这样做很符合人们的直觉，但是它在逻辑上会有一点问题：当B点向A点移时，它是什么时候从割线变成切线的？
重合的时候么？如果B点和A点重合，那就最后只剩下一个点了，我们知道“两点确定一条直线”，一个点怎么能确定一条直线呢？但是，如果B点和A点不重合的话，那么这就仍然是一条割线而不是切线啊。


于是，这样就出现了一个“一看非常简单直观，但是怎么说都说不圆”的情况，似乎两个点不行，一个点也不行，怎么办？


解决这个问题有一个很朴素的思路：要确定这条切线，让A、B两点重合是不行的，但是让它们分得太开也不行。最好就是让这两点靠近靠近无限靠近，但是就是不让它们重合。没重合的话就依然是两个点，两个点可以确定一条直线；无限靠近的话又可以把它跟一般的割线区分开来，这样不就两全其美了么？


也就是说，A、B两点必须无限靠近但又不能重合，这样它们的距离就无限接近0但又不等于0。这是什么？这不就又是无穷小么？


我们前面求曲线围成的面积的时候，核心思想就是用无数个矩形去逼近原图形，这样每个矩形的底就变成了无穷小。在这里，我们又认为当A、B两点的距离变成无穷小的时候，割线AB就变成了过A点的切线，是不是有点巧？它们之间的共性，大家可以好好体会一下~

## 初见微分

好，利用无穷小定义了一点上的切线，我们就可以理所当然地用过这点切线的斜率来表示曲线在这点的倾斜度了。

如何求直线的斜率我们上面已经说了，我把这张图再拉回来：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-aea27cdf78b9af5a3aa0480bb54d1ac1)

直线的斜率等于在直线上两点的纵坐标之差Δy和横坐标之差Δx的比值，即Δy/Δx。

而切线是当曲线上A、B两点相隔无穷小时确定的直线，那么切线的斜率依然可以写成Δy/Δx，只不过这时Δx和Δy都无限趋近于0。

莱布尼茨就给这两个趋近于0却又不等于0的Δx和Δy重新取了一个名字：dx和dy，并把它们称为“微分”。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-149a89c42402cd45c8e0cac33facf788)

也就是说，对莱布尼茨而言，dx这个微分就是当Δx趋向于0时的无穷小量，dy也一样。虽然dx和dy都是无穷小，但是它们的比值dy/dx确是一个有限的数（所以这时候你就不能把无穷小dx当成0了，否则还怎么当除数？），这就是该点切线的斜率，这样一切似乎就都解释得通了。

## 导数

显然，我们在曲线的一点上定义了切线，那么在平滑曲线的其它点上也能定义切线。因为每条切线都有一个斜率，所以，曲线上的任何一点都有一个斜率值跟它对应。两个量之间存在一种对应关系，这是什么？这就是函数啊。


函数y=f(x)不就是告诉我们：给定一个x，就有一个y跟它对应么？现在我们是给定一个点（假设横坐标为x），就有一个斜率dy/dx跟它对应。显然，这也是个函数，这个函数就叫导函数，简称导数。


在中学的时候，我们通常在函数f(x)的右上角加上一撇表示这个函数的导数，那么现在这两种情况就都表示导数：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-c466698dbbbd7f140b408fec9005b90a)

所以，导数f’(x)就可以表示横坐标为x的地方对应切线的斜率，它表示曲线在这一点上的倾斜程度。如果导数f’(x)的值比较大，曲线就比较陡，f’(x)比较小，曲线就比较平缓。于是，我们就可以用导数来描述曲线的倾斜程度了。


下面我们来看一个简单的例子，看看如何实际求一个函数的导数。


例1：求函数f(x)=x²的导数。


这还是我们前面说的抛物线，它的函数图像是这样的：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-550593dabd9859046b22cfd019dbb0ca)

所以，导数f’(x)就可以表示横坐标为x的地方对应切线的斜率，它表示曲线在这一点上的倾斜程度。如果导数f’(x)的值比较大，曲线就比较陡，f’(x)比较小，曲线就比较平缓。于是，我们就可以用导数来描述曲线的倾斜程度了。


下面我们来看一个简单的例子，看看如何实际求一个函数的导数。


例1：求函数f(x)=x²的导数。


这还是我们前面说的抛物线，它的函数图像是这样的：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-550593dabd9859046b22cfd019dbb0ca)

求函数的导数，就是求函数在每一点切线的斜率，而切线就是曲线上两个相距无穷小的点确定的直线。

那就好说了，我们假设曲线上有一个横坐标为x的点，那么，跟它距离无穷小的点的横坐标就是x+dx，由于这个点也在曲线f(x)=x²上，所以它的纵坐标就是(x+dx)²，即：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-ebeeccf62b9df64e9f632f06c4a471c2)

然后，我们用这两个点的纵坐标之差f(x+dx)-f(x)除以横坐标之差(x+dx)-x就能算出x点的切线斜率。因为这个x是任意取的，所以得到的结果就是任意点的切线斜率，那么这就是导数了：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-7e0c0dcdbdd4666aa00cd7998bf35c52)

到这一步都很简单，接下来就有问题了：这上面和下面的dx到底能不能约掉？


我们知道，除数是不能为0的，如果你想分子分母同时除以一个数，就必须保证这个数不是0。现在我们是想除以dx，这个dx就是我们前面定义的无穷小量，它无限接近于0却又不等于0。

所以，似乎我们姑且把它当作一个非零的量直接给约掉，那么导数上下同时除以dx就成了这样：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-592bbd39639c1bda95b55ab4ebb90de3)

这个式子看起来简洁了一些，但是后面还是拖了一个小尾巴dx。

2x是一个有限的数，一个有限的数加上一个无穷小量，结果是多少？似乎还是应该等于这个具体的数。比如，100加上一个无穷小，结果应该还是100，因为如果等于100.00…0001那就不对了，无穷小肯定比你所有能给出的数还小啊，那么也肯定必须比0.00…001还小。


所以，我们似乎又有充足的理由把2x后面的这个dx也给去掉，就像丢掉一个等于0的数一样，这样最终的导数就可以简单地写成这样：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-41a5f7d0d2dfee44718ca8ce517d6776)

大家看这个导数，当x越来越大（x>0）的时候，f(x)’的值也是越来越大的。而导数是用来表示函数的倾斜程度的，也就是说，当x越来越大的时候，曲线就越来越陡，这跟图像完全一致。


所以，我们通过约掉一个（非零的）$dx$，再丢掉一个（等于零的）dx得到的导数f(x)’=2x竟然是正确的。

但是这逻辑上就很奇怪了：一个无限趋近于0的无穷小量dx到底是不是0？如果是0，那么为什么可以让分子分母同时除以它来约分；如果不是0，那又为什么可以把它随意舍弃？


总不能同时等于零又不等于零吧？你又不是薛定谔家的无穷小量。

## 导数的意义

好，我花了这么大篇幅从直线的斜率讲到了曲线的导数，这就已经进入微分学的核心领地了。为什么导数这么重要呢？


因为导数反映的是一个量变化快慢的程度，这其实就是一种广义的“速度”。速度这个概念在科学里有多重要就不用我说了吧，当我们说一辆车的速度很快的时候，我们其实就是在说这辆车的位移对时间的导数很大。


此外，有了导数，我们就能轻而易举地求一条曲线的极值（极大值或极小值），为什么？因为只要导数不为0，曲线在这里就是在上升（大于0）或者下降（小于0）的，只有导数等于0的地方，才有可能是一个极值点。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-8fb5855199e98c83e64ea00d44ffd155)

求极值可是非常重要的：军人希望他们发射的炮弹可以飞得尽可能地远；商人希望他们的利润可以尽可能地高；我们也希望去哪都能走最近的路……


导数的这些用处很多人也都知道，事实上，我上面说的所有内容，求曲线围成的面积也好，求曲线的导数也好，在牛顿和莱布尼茨之前大家就都已经知道了，但这些并不是最重要的。


牛顿和莱布尼茨之所以伟大，之所以大家把他们视为微积分的发明人，是因为他们在这些寻常事实背后发现了一个极不寻常的秘密：求面积和求导数，或者说积分和微分，这两个看似完全不搭边的东西，竟然是一对互逆的运算。

## 互逆运算

积分和微分是一对互逆运算，这是微积分最核心的思想。把这个思想用数学语言描述出来就会得到一个定理，这个定理叫微积分基本定理。


这也是牛顿和莱布尼茨在微积分里最重要的发现，因此，微积分基本定理又叫牛顿-莱布尼茨公式。一个定理能够被称为XX基本定理，能够让这个领域的两个发明者直接冠名，这意味着什么，相信大家心里都有数。


那么，这句话到底是什么意思呢？说求面积（积分）和求导（微分）是一对互逆运算到底是在说什么？甚至，什么叫互逆运算？为什么发现“积分和微分是互逆的”这个事情这么重要？别急，且听长尾君慢慢道来。


什么是互逆运算？这里我们不去细扣它的定义，就直观地感受一下。从名字来看，互逆互逆，那应该就是有两种运算，一种能够把它变过去，另一种又可以把它变回来。


最常见的就是加法和减法：3+2=5，5-2=3。3加上2可以变成5，反过来，5减去2又可以变回3，所以加法和减法是一对互逆运算，这很好理解。


![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-ef2357a8a25a2e05c5728f77c4ff6d2f)

那么，当我们在说“求面积（积分）和求导（微分）是一对互逆运算”的时候，那就是说如果有一个东西，我们对它进行积分操作（求面积）可以得到一个新东西，如果我们对这个新东西再进行微分操作（求导）又能得到原来的那个东西，这样才算互逆。

下面我给大家举一个简单的例子，让大家直观地感受下为什么积分和微分是互逆的。


假如你从家去学校要走10分钟，我们把这10分钟平均分成10份，每份1分钟。那么，你在第1分钟里走的距离就是第1分钟的平均速度乘以时间间隔（也就是1分钟），第2分钟里走的距离就是第2分钟的平均速度乘以时间间隔（还是1分钟）。以此类推，我们分别把这10个1分钟里走的距离加起来，结果就是家到学校的总距离，这个好理解吧。

大家发现没有：这其实就是积分的过程。前面求曲线围成的面积的时候，我们就是把曲线围成部分的x轴平均分成很多矩形，然后把每个矩形的面积都加起来。这里求家到学校的总距离，一样是把家到学校的时间平均分成很多份，然后把每个小份的距离都加起来。


都是把一个大东西（家到学校的总距离，曲线围成的总面积）平均切成很多份，然后每一小份都用一个新的东西（每一分钟的距离，每一个矩形的面积）去近似，最后再把所有的小份东西加起来去逼近原来的大东西。


求面积的时候，矩形的数量越多，矩形的面积之和就越接近真实面积。同样的，我们把家到学校的10分钟分得越细（例子里只分了10份，我们可以分100份，1000份甚至更多），得到的总距离就越精确。

另外，我们把时间段分得越细，每个小时间段里的平均速度就越接近瞬时速度，如果无穷细分，那么无穷小时间段里的平均速度就可以认为就是瞬时速度了。

也就是说，如果知道整个过程中的瞬时速度（或者说是无穷小时间段内的速度），我们就能精确地求出无穷小时间段内的距离，然后把所有距离加起来得到精确的总距离，这就是积分。也就是说，通过积分过程，我们能从瞬时速度求出总距离。


![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-8f8efd02d6c070aaa64c15b0110de0b6)

另一方面，要证明微分（求导）是这个过程的逆运算，我们就得证明从总距离可以求出瞬时速度。也就是说，如果已知任意时刻你从家到学校的距离，你通过微分（求导）能把瞬时速度求出来。
 
这不是显而易见的事么？距离对时间求导，这就是速度啊，前面我们也说了“导数是一种广义的速度”。也就是说：距离除以时间，结果就是速度。你用平均距离除以平均时间得到平均速度，用瞬时距离（某一时刻的距离）除以瞬时时间（无穷小时间片段）自然就得到了瞬时速度。
 
这样不就完了么，通过积分，我们能从瞬时速度求出总距离来；通过微分，我们能从总距离求出瞬时速度，这就说明积分和微分是一对互逆运算。
 
我们也可以换个角度，从图像来更直观的看这点。

### 11v-t图像

中学学物理的时候，老师一定会画速度-时间（v-t）图像。v-t图像就是在一个坐标系里，用纵轴表示物体运动的速度v，横轴表示时间t，然后分析物体的运动情况。如下图：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-a23c0e45e6afde23f6617728deea3ad2)

然后老师就会告诉你：v-t图像里它们围成的面积s就是物体运动的位移的大小（位移是有方向的距离，是一个矢量）。
 
你们想啊，这个坐标里横轴是时间t，纵轴是速度v，你要算它们的面积，那肯定是要用乘法的。物体做匀速运动的轨迹就是一条平行于t轴的直线，速度v1乘以时间t0刚好就是它们围成的矩形的面积s，而速度乘以时间的物理意义就是它的位移。所以，面积代表位移，刚刚好。

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-6e7131b09a23d23ce47f89a0dce42963)

当物体不是匀速运动（轨迹是曲线）的时候，我就可以把时间切割成很多小段，在每一小段里把它们近似当作匀速运动，这样每一个小段的面积就代表每一个小段里的位移。


然后我把所有小段的面积加起来，得到的总面积不就可以代表总位移了么？所以，曲线围成的面积s一样代表位移。


大家想想，处理曲线的时候，我们把时间切成很多块，用每一个小块的面积（位移）之和去逼近总面积（位移），这不就是积分的思想么？反过来，如果你把这个黄色的面积S，把这个整体的位移看作一个随时间t变化的函数，对它求导自然就能得到速度t。
 
也就是说，我们对速度v做一次积分能得到位移s；反过来，对位移s求一次导数（微分）就能得到速度v。这样它们的互逆关系就非常清楚了：


![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-1a3fead205fe62a053d99f3174a01bf5)

这部分逻辑并不难理解，大家只要好好琢磨一下，就会发现“积分和微分是互逆运算”这个事情是非常自然的。它在日常生活中到处都有体现，只不过我们平常没有太注意，而牛顿和莱布尼茨注意到了。

## 原函数

知道了“积分和微分是互逆运算”能给我们带来什么呢？答案是：多一种选择。因为既然积分和微分是互逆运算，那么有些操作如果积分不擅长，我就可以把它丢给微分。

什么意思？还是以最开始求曲线围成的面积为例。我们是这样求抛物线y=x²与x轴在0到1之间围成面积的：如果用n个矩形去逼近，每个矩形的底就是1/n，n个矩形的面积之和就是这样：


![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-8b2de1a461db65dcf1efce08114169da)

当n趋向于无穷大的时候，后面两项就等于无穷小，然后结果就只剩下第一项1/3。


用这种方法，面对不同的曲线就得有不同的求和公式，最后还得保证相关项可以变成无穷小丢掉。所以，这种方法的复杂度和局限性都非常大，无法推广。

但是，在伟大的牛顿和莱布尼茨发现了“积分和微分是互逆运算”之后，这一切就改变了。因为我们有另一种选择：积分之路如果不好走，我们可以走微分啊。


怎么走呢？前面讲微分的时候，我们计算过f(x)=x²的导数，最终的结果是这样的：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-41a5f7d0d2dfee44718ca8ce517d6776)

那么反过来，如果我知道有一个函数是f(x)=2x，难道我就猜不出究竟是哪个函数求导之后变成了f(x)=2x么？当然可以啊，我们完全可以根据f(x)=2x反推出原来的函数是f(x)=x²+c。

为什么这里多了一个常数c？因为常数求导的结果都是0，所以就多了这样一个尾巴。

也就是说，f(x)=x²，f(x)=x²+1，f(x)=x²+3等函数的导数都是f(x)=2x，只凭f(x)=2x我们无法确定最开始函数具体是什么样子。但是，我们可以确定它一定就是x²加上一个常数c。于是，我们就把求导之前原来的函数f(x)=x²+c称为的f(x)=2x的原函数。


好，下面是关键：积分是函数围成面积的过程，速度v通过积分就得到了位移s，在v-t图像里速度v围成的面积就是位移s；微分是求导的过程，对位移s求一次导数就能够得到速度v。


有了原函数以后，我们也可以根据速度v把（求导之后等于速度v的）位移s给求出来，这时候位移s就是速度v的原函数（无非就是再加一个常数c）。而原函数表示的位移s就是速度v围成的面积，于是，原函数就有了求面积（积分）的效果。

也就是说，s求导一次就变成了v，那么v反向求导一次就可以得到s，这时候s是v的原函数。另一方面，因为s求导一次能变成了v，那么v积分一次也能变成了s（互逆运算）。于是，v通过求原函数和积分都能得到s，所以原函数s其实就有了积分（曲线v围成面积）的效果。

再简单地说，因为积分和微分是一对互逆运算，所以你反向微分（求原函数）的话，自然就“负负得正”，得到和积分一样的效果了。


所以，现在求曲线f(x)=x²和x轴在0到1区间里围成面积这个原本属于积分的事情，现在就可以通过反向微分（求原函数）来实现。

这是一次非常华丽的转变，马上你就会看到这种新方法会把问题简化到什么程度，而且，正是这种力量让数学发生了根本性的改变。

## 微积分基本定理

好，既然要用反向微分的方法求面积，那我们就去找f(x)=x²的原函数，看看到底是哪个函数求导之后变成了f(x)=x²。我们用F(x)来表示这个原函数，那么F(x)就是它（C为常数）：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-f61241bc8bed8d20b3e549c0cc06d7db)

大家不放心可以自己去验算一下，看看这个F(x)求导之后的结果是不是f(x)=x²。

因为求导是一个非常重要、基础的东西，所以求一些常见函数的导数和原函数都被一劳永逸的制成了表格，大家需要的时候直接去查，记住几个常用的就行。不过，在学习的初期，大家还是要亲自去算一些求导的例子。


有了f(x)=x²的原函数F(x)以后，怎么去求f(x)和x轴在0到1区间里围成的面积呢？前面已经分析了，原函数具有积分的效果，而积分就是曲线围成的面积，所以原函数也可以表示曲线围成的面积（为了方便理解，这里我们先不考虑常数c的影响，反正函数相减的时候常数c会抵消掉）。


因此，我们要求f(x)与x轴在0到1区间内围成的面积，直接用这个代表面积的原函数F(x)在1处的值F(1)减去在0处的值F(0)就完了：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-979a2d49237709fdfe3ef3d5c42aee80)

对，你没看错，这样就完了。

F(1)-F(0)就是曲线在0到1之间围成的面积，我们这样得到的结果是1/3，跟我们原来用矩形逼近计算的结果一模一样，惊不惊喜，意不意外？但是它明显比原来的方法简单太多太多太多了，简单到一个中学生都能轻而易举地算出来，这才是微积分的真正力量。
有了这样的铺垫，微积分基本定理（牛顿-莱布尼茨公式）就非常容易理解了：如果函数f(x)在区间a到b之间连续（简单理解就是曲线没有断），并且存在原函数F(x)，那么就有：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-48d707cbac77a3df19d8b1b2a26f27f6)


这是式子的左边就是函数f(x)与x轴在a到b区间内围成的面积，这点我们在讲积分的时候讲过了：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-bf15f64308c2377a17d4ea53f1dd75e2)

式子的右边就是原函数在b点和a点的差。意义也很明确：函数反向求导得到的原函数F(x)本来就表示面积，那么F(b)-F(a)自然就是这两点之间的面积之差。于是公式左右两边就都表示面积，完美！


这就是微积分的基本定理，这就是微积分的核心思想。

## 进击的微积分

**当一个变量相继的值无限地趋近某个固定值的时候，如果它同这个固定值之间的差可以随意地小，那么这个固定值就被称为它的极限。**

有人看了这个定义之后就在犯嘀咕：这跟莱布尼茨说的不是一样的么？你还不是在用“无限趋近”啊，“随意的小”啊这种跟“无穷小”差不多的概念来定义极限么？你说以前的定义是动态的，柯西给整成了静态的，可是我看来看去，柯西这个定义好像也在动啊。什么无限趋近，随意的小，不是在动么？


有这些疑问是正常的，毕竟是让数学家们卡了一百多年的问题，不可能那么太“显而易见”。

我们再仔细看看柯西的定义，它跟以前的差别到底在哪？你看啊，柯西虽然也有用“无限趋近”，但是他只是用这个来描述这个现象，并不是用它来做判决的。他的核心判决是后面一句：**如果它同这个固定值之间的差可以随意的小，那么它就是极限。**


可以随意的小和你主动去无限逼近是完全不一样的。可以随意小的意思是：你让我多小我就可以多小。你让我小于0.1，我就能小于0.1；你让我小于0.01，我就能小于0.01；你让我小于0.00…001，我就可以小于0.00…001。只要你能说出一个确定的值，不管你说的值有多小，我都可以让它跟这个固定值的差比你更小。柯西说如果这样的话，那么这个固定值就是它的极限。


大家发现没有，柯西学聪明，学鸡贼了，他把这个判断过程给颠倒了过来。以前是你要证明自己的极限是0，你就不停地变小，不停地朝0这个地方跑过去。但是，你和0之间永远隔着无数个点，所以你永远也跑不完，你也就不知道你要跑到什么时候去，这样就晕了。


现在我学聪明了，这个难以界定的东西，这个烫手的山芋我不管了，我丢给你，我让你先说。只要你说出一个数，你要我变得多小我就变得多小。你如果想让我变成无穷小，那你就得先把无穷小是多少给我说出来，你说不出来的话那就不能怪我了。

完美甩锅！这就是柯西的核心思想。

柯西就通过这种方式把那些不可测的概念挡在了数学之外，因为你能具体说出来的数，那肯定就都是“可观测”的啊。大家再看看这个定义，再想想之前莱布尼茨的想法，是不是这么回事？


于是，柯西就这样完美的甩开了那个招人烦的无穷小量。在柯西这里，无穷小量不过就是一个简单的极限为0的量而已，一个“只要你可以说出一个数，我肯定就可以让我和0之间的差比你给的数更小”的量。这样我们就能把它说得清清楚楚，它也不再有任何神秘了。

## 魏尔斯特拉斯和ε-δ极限

**当且仅当对于任意的ε，存在一个δ>0，使得只要0<|x-a|<δ，就有|f(x)-L|<ε，那么我们就说f(x)在a点的极限为L。** 记做：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-37d631d470c244ccf874dde774b73477)

看得出来，当x的取值越来越大的时候，f(x)的值会越来越趋近于0。所以，函数f(x)在无穷远处的极限值应该是0，也就是说：

![image.png](http://mianbaoban-assets.oss-cn-shenzhen.aliyuncs.com/7920678-edbbe0f7cb7da29d4d0084f7861d7667)

这个结论是很明显的，接下来我们就来看看如何用ε-δ定义来说这个事。

按照定义，我们要取一个任意小的ε，假设这里我们取ε=0.1，那么我们就要去找一个δ，看能不能找到一个范围让|f(x)-0|<0.1，显然只需要x>10就行了；取ε=0.01，就只需要x>100就行了；任意给一个ε，我们显然都能找到一个数，当x大于这个数的时候满足|f(x)-0|<ε，这样就OK了。


于是，我们就构建了一个逻辑严密，不再有任何“说不清”概念的极限理论。有了这个坚实的地基，我们就可以放心地在上面盖房子了。那个漂泊了一百多年，那个被幽灵般的无穷小量缠绕了一百多年的微积分，即将迎来新生。



